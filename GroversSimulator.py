def Grovers_Simulator(a):
    """a is the unknown number that is searched """
    A=bin(a)[2:]
    n=len(A)
    N=2**n
    d={'0':Q0, '1':Q1, '00':Q00, '01':Q01, '10':Q10, '11':Q11, '000':Q000, '001':Q001, '010':Q010, '011':Q011, '100':Q100, '101':Q101, '110':Q110, '111':Q111, '0000':Q0000, '0001':Q0001, '0010':Q0010, '0011':Q0011, '0100':Q0100,
'0101':Q0101,
'0110':Q0110,
'0111':Q0111,
'1000':Q1000,
'1001':Q1001,
'1010':Q1010,
'1011':Q1011,
'1100':Q1100,
'1101':Q1101,
'1110':Q1110,
'1111':Q1111,
'00000':Q00000,
'00001':Q00001,
'00010':Q00010,
'00011':Q00011,
'00100':Q00100,
'00101':Q00101,
'00110':Q00110,
'00111':Q00111,
'01000':Q01000,
'01001':Q01001,
'01010':Q01010,
'01011':Q01011,
'01100':Q01100,
'01101':Q01101,
'01110':Q01110,
'01111':Q01111,
'10000':Q10000,
'10001':Q10001,
'10010':Q10010,
'10011':Q10011,
'10100':Q10100,
'10101':Q10101,
'10110':Q10110,
'10111':Q10111,
'11000':Q11000,
'11001':Q11001,
'11010':Q11010,
'11011':Q11011,
'11100':Q11100,
'11101':Q11101,
'11110':Q11110,
'11111':Q11111
}
    a1=d[A]
    a2=a1[:, np.newaxis]
    Ufa=np.eye(N)-2*a2.dot(a2.T)
    
    b='0'*n
    b1=d[b]
    b2=b1[:, np.newaxis]
    Uf0=np.eye(N)-2*b2.dot(b2.T)

    w={1:Walsh(I2), 2:Walsh4(I4), 3: Walsh8(I8), 4: Walsh16(I16), 5: Walsh32(I32)}
    W=w[n]
    
    l1=-W.dot(Uf0)
    l2=l1.dot(np.linalg.inv(W))
    RsRa=l2.dot(Ufa)
    
    i={1:Q0, 2:Q00, 3:Q000, 4:Q0000, 5:Q00000}
    initial_prep=W.dot(i[n])
    
    k=int(np.rint(np.pi*np.sqrt(N)/4.-0.5))
    
    I=np.eye(N)
    p=RsRa
    for i in range(1, k+1):
        f=p.dot(initial_prep)
        p=p.dot(p)
    
    plot_measure(measure(f))


Grovers_Simulator(8)
